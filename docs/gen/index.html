<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Documentation Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Documentation</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="ADX.html">ADX</a></li><li><a href="ADX.Configurator.html">ADX.Configurator</a></li><li><a href="ADX.Configurator.Info.html">ADX.Configurator.Info</a></li><li><a href="ADX.Configurator.Outputs.html">ADX.Configurator.Outputs</a></li><li><a href="ADX.Configurator.Properties.html">ADX.Configurator.Properties</a></li><li><a href="ADX.Preferences.html">ADX.Preferences</a></li><li><a href="ADXInfo_constructor.html">ADXInfo#constructor</a></li><li><a href="ADXOutputs_constructor.html">ADXOutputs#constructor</a></li><li><a href="ADXProperties_constructor.html">ADXProperties#constructor</a></li><li><a href="Builder_constructor.html">Builder#constructor</a></li><li><a href="Configurator_constructor.html">Configurator#constructor</a></li><li><a href="Generator_constructor.html">Generator#constructor</a></li><li><a href="InteractiveADXShell.html">InteractiveADXShell</a></li><li><a href="Interview.html">Interview</a></li><li><a href="InterviewsFactory.html">InterviewsFactory</a></li><li><a href="Preferences_constructor.html">Preferences#constructor</a></li><li><a href="Sequence_constructor.html">Sequence#constructor</a></li><li><a href="Show_constructor.html">Show#constructor</a></li><li><a href="Validator_constructor.html">Validator#constructor</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#adxAuthor">adxAuthor</a></li><li><a href="global.html#adxConfigurator">adxConfigurator</a></li><li><a href="global.html#adxDescription">adxDescription</a></li><li><a href="global.html#adxDirectoryPath">adxDirectoryPath</a></li><li><a href="global.html#adxName">adxName</a></li><li><a href="global.html#adxType">adxType</a></li><li><a href="global.html#author">author</a></li><li><a href="global.html#binPath">binPath</a></li><li><a href="global.html#company">company</a></li><li><a href="global.html#constraintsToSentence">constraintsToSentence</a></li><li><a href="global.html#createArticle">createArticle</a></li><li><a href="global.html#createJSONArticle">createJSONArticle</a></li><li><a href="global.html#date">date</a></li><li><a href="global.html#deleteAttachmentsIfArticle">deleteAttachmentsIfArticle</a></li><li><a href="global.html#description">description</a></li><li><a href="global.html#dirResources">dirResources</a></li><li><a href="global.html#findSectionIdByTitle">findSectionIdByTitle</a></li><li><a href="global.html#generateHtmlCodeForCategory">generateHtmlCodeForCategory</a></li><li><a href="global.html#generateHtmlCodeForOptions">generateHtmlCodeForOptions</a></li><li><a href="global.html#generateHtmlCodeForProperty">generateHtmlCodeForProperty</a></li><li><a href="global.html#guid">guid</a></li><li><a href="global.html#helpURL">helpURL</a></li><li><a href="global.html#info">info</a></li><li><a href="global.html#logger">logger</a></li><li><a href="global.html#name">name</a></li><li><a href="global.html#outputDirectory">outputDirectory</a></li><li><a href="global.html#outputPath">outputPath</a></li><li><a href="global.html#outputs">outputs</a></li><li><a href="global.html#path">path</a></li><li><a href="global.html#preferences">preferences</a></li><li><a href="global.html#printMode">printMode</a></li><li><a href="global.html#projectType">projectType</a></li><li><a href="global.html#projectVersion">projectVersion</a></li><li><a href="global.html#properties">properties</a></li><li><a href="global.html#propertiesToHtml">propertiesToHtml</a></li><li><a href="global.html#Publisher">Publisher</a></li><li><a href="global.html#PublisherZenDesk">PublisherZenDesk</a></li><li><a href="global.html#report">report</a></li><li><a href="global.html#rootdir">rootdir</a></li><li><a href="global.html#sequence">sequence</a></li><li><a href="global.html#site">site</a></li><li><a href="global.html#template">template</a></li><li><a href="global.html#templateSrc">templateSrc</a></li><li><a href="global.html#uploadAvailableFiles">uploadAvailableFiles</a></li><li><a href="global.html#validationReport">validationReport</a></li><li><a href="global.html#validators">validators</a></li><li><a href="global.html#version">version</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><h1>ADXUtil</h1><p><em>WIP (WORK IN PROGRESS)</em></p>
<p>This utilities is use to facilitate the creation and the packaging of ADX project (ADP and ADC).</p>
<p>It contains validators and allow to display outputs of the ADX using the ADXEngine. </p>
<p>ADXUtil is a CLI tools (Command Line Interface) but it also provide an API for NodeJS project. </p>
<h2>Setup</h2><p>Install NodeJs: https://nodejs.org/download/</p>
<p>Then install the npm package adxutil:</p>
<pre class="prettyprint source"><code>npm install -g adxutil</code></pre><h2>Run unit tests of ADXUtil</h2><p>Install jasmine-node for unit tests</p>
<pre class="prettyprint source"><code>npm install jasmine-node -g</code></pre><p>Then run</p>
<pre class="prettyprint source"><code>jasmine-node spec/</code></pre><p>or</p>
<pre class="prettyprint source"><code>npm test</code></pre><h2>CLI Usage</h2><p>This application works through Windows PowerShell</p>
<pre class="prettyprint source"><code>adxutil [options] [command]

Commands:

generate &lt;type> &lt;name>        generate a new ADP or ADC structure (type is `adc` or `adp`)
validate [&lt;path>]             validate the uncompressed ADX structure
publish &lt;platform>            publish the adc on a web platform
build [&lt;path>]                build the ADX file
show [&lt;path>]                 show the output of the ADX
config                        get or set the configuration (use the --authorXXX flags to set the config)

Options:

-h, --help                output usage information
-V, --version             output the version number
-o, --output &lt;name>       name of the output to display or path to the output directory for the generation
-f, --fixture &lt;name>      name of the fixture to use for the `show` command
-m, --masterPage &lt;path>   path of the master page to use for the `show` command (for ADC only)
-p, --properties &lt;props>  ADX properties (in url query string format) to set for the `show` command'
-T, --no-test             skip the execution of ADX unit tests
-X, --no-xml              skip the validation of the config.xml file
-A, --no-autoTest         skip the execution of the auto-generated unit tests
-t, --template &lt;name>     name of the template to use to generate the ADX
--authorName &lt;name>       default name of the author to set in the config
--authorEmail &lt;email>     default email of the author to set in the config
--authorCompany &lt;name>    default company of the author to set in the config
--authorWebsite &lt;website> default website of the author to set in the config
--username &lt;name>         the username login to connect to the platform
--pwd &lt;password>          the password login to connect to the platform
--url &lt;uri>                  the remote URI of the platform
--demoUrl &lt;url>              the url to start the survey demo
--section &lt;title>          the name of the section where the adc will be posted (ZenDesk)
--promoted                the article will be promoted (appear with a star in ZenDesk Platform)
--disableComments         the comments will be disabled on the article corresponding to the ADC on ZenDesk</code></pre><h3>Generate</h3><p>Start <code>Windows PowerShell</code> (<code>Start &gt; All programs &gt; Accessories &gt; Windows PowerShell &gt; Windows PowerShell</code>). 
Target the root directory where you want to generate the ADP or ADC (or use the <em>-o</em> or <em>--output</em> option).</p>
<pre class="prettyprint source"><code>cd C:\Users\user_name\Documents\ADXProjects\</code></pre><p>Then enter the following command:</p>
<pre class="prettyprint source"><code>ADXUtil generate adc my_adc_name</code></pre><p>Or </p>
<pre class="prettyprint source"><code>ADXUtil generate adp my_adp_name</code></pre><p>That should produce an output like:</p>
<p><img src="ADCUtilGenerate.png" alt="generate (Example output)" title="generate (Example output)"></p>
<p>To generate the ADX structure, ADCUtil uses templates stored under the <code>/ADXUtil/templates/</code>. 
By default, it use the <code>default</code> template (/ADXUtil/templates/adp/default/) or (/ADXUtil/templates/adc/default/).</p>
<p>That means that you can predefine many more templates and store them in the <code>/ADXUtil/templates/</code> folder. 
Then you only need to specify the name of the template folder you want to use to generate your ADX:</p>
<pre class="prettyprint source"><code>ADXUtil --template my_adc_template_name generate adc my_adc_name</code></pre><p>Or</p>
<pre class="prettyprint source"><code>ADXUtil --template my_adp_template_name generate adp my_adp_name</code></pre><h4>List of possible error messages</h4><p><strong>Errors</strong></p>
<pre class="prettyprint source"><code>&quot;The @name@ parameter is required&quot;
&quot;The --output path is required&quot;
&quot;The directory @%s@ already exists.&quot;
&quot;Incorrect ADX name. The name of the ADX should only contains letters, digits, spaces, @_,-,.@ characters&quot;
&quot;Cannot found the @%s@ template&quot;</code></pre><h3>Publish</h3><p>Start <code>Windows PowerShell</code> (<code>Start &gt; All programs &gt; Accessories &gt; Windows PowerShell &gt; Windows PowerShell</code>). 
Target your ADX directory.</p>
<pre class="prettyprint source"><code>cd C:\Users\user_name\Documents\ADXProjects\my_adx_name</code></pre><p>Then enter the following command with a platform argument and then the options you want:</p>
<pre class="prettyprint source"><code>ADXUtil publish ZenDesk --url http://url/to/zendesk --section mySection --username myName --password secret</code></pre><p>You can use following command line options for the ZenDesk publisher:</p>
<h4>List of possible error messages</h4><p><strong>Errors</strong></p>
<pre class="prettyprint source"><code>&quot;Invalid `platform` argument&quot;
&quot;Missing `platform` argument&quot;
&quot;Invalid `configurator` argument&quot;
&quot;Invalid `options` argument&quot;
&quot;Invalid `title` argument&quot;
&quot;Non-existing section. Please check the section title or your logins&quot;
&quot;Missing `configurator` argument&quot;
&quot;The number of .adc files is incorrect&quot;
&quot;Error when updating or creating this article : There are already at least two instances of this article on ZenDesk (Check in draft mode if you don't see them in help_center mode)&quot;
&quot;Missing `title` arg&quot;
&quot;Arguments are missing. Check the arguments in command line or your personal preferences file&quot;</code></pre><h3>Validate</h3><p>Start <code>Windows PowerShell</code> (<code>Start &gt; All programs &gt; Accessories &gt; Windows PowerShell &gt; Windows PowerShell</code>). 
Target your ADX directory (or indicates the path of your ADX after the <code>validate</code> command).</p>
<pre class="prettyprint source"><code>cd C:\Users\user_name\Documents\ADXProjects\my_adx_name</code></pre><p>Then enter the following command:</p>
<pre class="prettyprint source"><code>ADXUtil validate</code></pre><p>That should produce an output like:</p>
<p><img src="ADCUtilValidate.png" alt="validate (Example output)" title="validate (Example output)"></p>
<p>The validation will check:</p>
<ul>
<li>The presence of the config.xml file</li>
<li>The directory structure</li>
<li>The files extensions using a whitelist and a blacklist (All other extensions will produce a warning)</li>
<li>The config.xml using the XSD schema</li>
<li>The logical in the config.xml
<strong> The name information
</strong> The constraints nodes (at least one control or question must be specified for an ADC)
<strong> The outputs, output, content and attribute nodes
</strong> The properties nodes</li>
</ul>
<p>It will also run the auto-generated unit tests and all unit tests of the ADX using the @ADXShell@ tool. 
You can skip some validations using the following options in the command line:</p>
<ul>
<li><p>-T, --no-test 
To skip the execution of the unit tests</p>
</li>
<li><p>-A, --no-autoTest<br>To skip the execution of the auto-generated unit tests</p>
</li>
<li><p>-X, --no-xml<br>To skip the validation of the config.xml file</p>
</li>
</ul>
<h4>List of possible error and warning messages</h4><p><strong>Errors</strong></p>
<pre class="prettyprint source"><code>&quot;No such file or directory `%s`&quot;
&quot;missing required argument `path`&quot;
&quot;cannot find the `Config.xml` file in the directory&quot;
&quot;File extension `%s` is forbidden&quot;
&quot;The config.xml must contains the `info` node as a child of the xml root element&quot;
&quot;The node `name` in `info` doesn't exist or is empty&quot;
&quot;Duplicate constraints on `%s`&quot;
&quot;The constraint on `%s` doesn't accept the `%s` attribute&quot;
&quot;The constraint on `%s` requires at least one rule&quot;
&quot;A constraint on `%s` is required&quot;
&quot;Too many outputs with empty condition: `%s`&quot;
&quot;At least one dynamic file is require for the `%s` output, or set the attribute `defaultGeneration=true` in the output node&quot;
&quot;Cannot find the `resources` directory&quot;
&quot;Cannot find the `%s` directory&quot;
&quot;Output: `%s`. Cannot find the file `%s` in the `%s` directory&quot;
&quot;Output: `%s`. Type `%s` could not be dynamic (`%s`)&quot;
&quot;Output: `%s`. Attribute `%s` of the `%s` content could not be override&quot;
&quot;Output: `%s`. `yield` node required for the binary content `%s` or set his position to `none`&quot;
&quot;Output: `%s`. Duplicate `%s` attribute node in content `%s`&quot;</code></pre><p><strong>Warnings</strong></p>
<pre class="prettyprint source"><code>&quot;Untrust extension of the file `%s`&quot;
&quot;Duplicate conditions in outputs `%s` and `%s`&quot;
&quot;Output: `%s`. `attribute` nodes will be ignored for the `%s` content (`%s`)&quot;
&quot;Output: `%s`. `attribute` nodes will be ignored for dynamic content (`%s`)&quot;
&quot;Output: `%s`. `attribute` nodes will be ignored when using `yield` (`%s`)&quot;
&quot;Output: `%s`. It's recommended to test the `Browser.Support(\&quot;Javascript\&quot;)` in the condition node, before using `javascript` content.&quot;
&quot;Output: `%s`. It's recommended to test the `Browser.Support(\&quot;Flash\&quot;)` in the condition node, before using `flash` content.&quot;
&quot;It's recommended to have at least one fallback with HTML only&quot;
&quot;It's recommended to define at least one properties&quot;
&quot;It's recommended to unit test your ADX project&quot;</code></pre><h3>Build</h3><p>Start <code>Windows PowerShell</code> (<code>Start &gt; All programs &gt; Accessories &gt; Windows PowerShell &gt; Windows PowerShell</code>). 
Target your ADC directory (or indicate the path of your ADC after the <code>build</code> command).</p>
<pre class="prettyprint source"><code>cd C:\Users\user_name\Documents\ADXProjects\my_adx_name</code></pre><p>Then enter the following command:</p>
<pre class="prettyprint source"><code>ADXUtil build</code></pre><p>That should produce an output like:</p>
<p><img src="ADCUtilBuild.png" alt="build (Example output)" title="build (Example output)"></p>
<p>The <code>build</code> command will first validate the ADX like the &quot;validate command&quot;:#validate did (it will enforce the XML validation). 
If the validation fails, the build will stop otherwise it will compress all necessary files into a zip file with the <em>.adc or </em>.adp extension.</p>
<p>The file will be generated under the ADX directory in the <code>\bin\</code> folder.</p>
<h4>List of possible error messages</h4><p><strong>Errors</strong></p>
<pre class="prettyprint source"><code>&quot;Validation failed&quot;
&quot;Build failed with errors.&quot;</code></pre><h3>Show</h3><p>Start @Windows PowerShell@ (@Start &gt; All programs &gt; Accessories &gt; Windows PowerShell &gt; Windows PowerShell@). 
Target your ADX directory (or indicate the path of your ADX after the @show@ command).</p>
<pre class="prettyprint source"><code>cd C:\Users\user_name\Documents\ADXProjects\my_adx_name</code></pre><p>Then enter the following command:</p>
<pre class="prettyprint source"><code>ADXUtil show --output MyADXOutputName --fixture TheFixtureFileName.xml</code></pre><p>OR</p>
<pre class="prettyprint source"><code>ADXUtil show -o MyADXOutputName -f TheFixtureFileName.xml</code></pre><p>That should show the result of the <code>MyADXOutputName</code> with the specified fixture.</p>
<h4>List of possible error messages</h4><p><strong>Errors</strong></p>
<pre class="prettyprint source"><code>&quot;Please specify the name of the output you want to show, using the option -o or --output.&quot;,
&quot;Please specify the name of the fixture you want to use, using the option -f or --fixture.&quot;</code></pre><h2>API Usage</h2><p>Please find the <a href="http://www.askia.com/Downloads/dev/docs/ADCUtil/index.html">full API documentation here</a></p>
<p>Example of usage of existing ADX</p>
<pre class="prettyprint source"><code>var ADX = require('adxutil').ADX;

var myAdx = new ADX('path/to/adx/dir');

// Validate an ADX
myAdx.validate({test : false, autoTest : false}, function (err, report) {
    // Callback when the ADX structure has been validated
});

// Show the output of an ADX
myAdx.show({ output : 'fallback', fixture : 'single.xml'  },  function (err, output) {
    // Callback with the output of the ADX
});

// Build the ADX (package it)
myAdx.build({test : false, autoTest : false}, function (err, path, report) {
    // Callback when the ADX has been built 
});</code></pre><p>Generate and use the new ADX instance</p>
<pre class="prettyprint source"><code>ADX.generate('myNewADC', {type : 'adc', output : '/path/of/parent/dir', template : 'blank'}, function (err, adc) {
    console.log(adc.path);
    adc.load(function (err) {
        if (err) {
            console.log(err);
            return;
        }
        console.log(adc.configurator.info.get());
    });
});</code></pre><p>OR</p>
<pre class="prettyprint source"><code>ADX.generate('myNewADP', {type : 'adp', output : '/path/of/parent/dir', template : 'default'}, function (err, adp) {
    console.log(adp.path);
    adp.load(function (err) {
        if (err) {
            console.log(err);
            return;
        }
        console.log(adp.configurator.info.get());
    });
});</code></pre></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
	
		on March 10th 2017, 4:37:18 pm
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>